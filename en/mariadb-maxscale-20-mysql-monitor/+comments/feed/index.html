<?xml version="1.0" encoding="utf-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>MariaDB Knowledge Base Comments for:  MySQL Monitor</title><link>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/feed/</link><description></description><atom:link href="https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/feed/" rel="self"></atom:link><language>en-us</language><lastBuildDate>Wed, 31 May 2023 01:48:38 +0000</lastBuildDate><item><title>Re:  MySQL Monitor</title><link>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2578</link><description>&lt;p&gt;Two node setups are slightly problematic for MaxScale. The MySQL monitor expects that a master will always have at least one slave before it assigns master status to the server. With a two node master-slave pair, when the master dies and the slave is promoted, MaxScale cannot be absolutely certain that the slave is actually the new master.&lt;/p&gt;
&lt;p&gt;Most of the time this problem is solved by using the &lt;a href="https://mariadb.com/kb/en/mariadb-enterprise/5947/"&gt;multi-master monitor&lt;/a&gt; instead of the MySQL monitor and placing the slave server into read-only mode. With this, a failover can be performed by putting the master into read-only mode and removing the read-only mode from the slave. MaxScale will see this change and start sending writes to the new master. &lt;/p&gt;
&lt;p&gt;The replication-manager is the recommended way to do failovers with MariaDB 10. It will automatically set the slave servers into read-only mode and also adjust it when a failover is performed.&lt;/p&gt;
&lt;p&gt;In the upcoming 2.1 version of MaxScale, there's a simple failover mode for the MySQL monitor which should make these kinds of situations easier to handle without external programs. You can read about the upcoming failover mode &lt;a href="https://github.com/mariadb-corporation/MaxScale/blob/develop/Documentation/Monitors/MySQL-Monitor.md#failover"&gt;here&lt;/a&gt;&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Markus M채kel채</dc:creator><guid>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2578</guid></item><item><title>Re:  MySQL Monitor</title><link>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2577</link><description>&lt;p&gt;Thanks for the immediate answer.&lt;/p&gt;
&lt;p&gt;The databases are MySQL databases and I used mysqlrpladmin for the failover (it's in mysql-utilities package). But what is the internal/native way to do this with Maxscale? The replication-manager?&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Yiannis Sot</dc:creator><guid>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2577</guid></item><item><title>Re:  MySQL Monitor</title><link>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2576</link><description>&lt;p&gt;How does the slave get promoted as a master? Is this done by some external program?&lt;/p&gt;
&lt;p&gt;I'd recommend looking at the &lt;a href="https://mariadb.com/kb/en/mariadb-enterprise/5947/"&gt;Multi-Master Monitor&lt;/a&gt; if the slave always has read_only set to ON and some external actor removes it from the master.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Markus M채kel채</dc:creator><guid>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2576</guid></item><item><title>Re:  MySQL Monitor</title><link>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2574</link><description>&lt;p&gt;In a normal set up with 1 master and 1 slave how is it possible the monitor module to detect the new master (the previous slave) when the previous master is still down? &lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Yiannis Sot</dc:creator><guid>https://mariadb.com/kb/en/mariadb-maxscale-20-mysql-monitor/+comments/2574</guid></item></channel></rss>